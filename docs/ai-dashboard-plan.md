# AI 분석 대시보드 구상안

## 목표
기존 README의 기능(예측 밴드, 전략 분석, 리스크 분석, 포트폴리오 관리)을 한 화면에서 통합적으로 보여주는 실무형 레이아웃을 정의합니다. 백엔드 FastAPI/ARIMA 기반 예측과 프런트 React 차트 컴포넌트를 연결해 **검색 → 차트 → 전략/리스크/정확도 → 포트폴리오 액션** 흐름을 자연스럽게 제공하는 것을 목표로 합니다.

## 화면 구조(1페이지 구성)
1. **상단 헤더 & 검색 바**
   - 좌측: 로고/프로젝트명, "AI 기반 전략 분석" 서브텍스트.
   - 중앙: 심볼 검색 입력(자동완성, `.KS/.KQ` 접미사 처리), 최근 조회 심볼 버튼.
   - 우측: 기간 프리셋(3M/6M/1Y/Max) + 예측 구간 선택(1/3/6개월) 토글.

2. **메인 차트 영역**
   - 캔들 + SMA20/60 + 볼린저 밴드.
   - **AI 예측 밴드**: 선택한 예측 구간(horizon)으로 `/api/forecast/{symbol}` 호출 결과를 밴드로 오버레이.
   - 툴팁: 실제 가격, 예측 밴드 상·하단, 밴드 폭(리스크 힌트) 표시.

3. **정확도 & 리스크 패널 (좌측)**
   - **정확도**: `/api/forecast/{symbol}/accuracy` 응답 MAPE/RMSE/MAE, 평가 기간(holdout_days), 업데이트 시각.
   - **리스크**: 변동성 비교(단기 vs 중기), MDD, ATR·HV 등 핵심 수치.
   - 상태 배지: Low/Medium/High 리스크 컬러 코드.

4. **전략 인사이트 패널 (우측)**
   - 전략별 점수 및 신호: 이동평균 교차, 볼린저 역추세, 모멘텀.
   - **자동 분석 코멘트**: Rule-based NLP 결과(예: “SMA20 상향 돌파, 추세 전환 가능”).
   - 추천 액션: Buy/Hold/Sell/Observe 레이블과 근거 지표.

5. **포트폴리오 섹션 (하단)**
   - 보유 종목 테이블: 수량, 평단, 평가금액, 손익률.
   - 각 종목별 전략 점수/리스크 배지, 최신 예측 밴드 폭.
   - 액션 버튼: 포지션 추가/삭제, 리밸런스 제안(밴드 이탈 시 강조).

## 데이터 흐름
- **검색**: `GET /api/stocks/search?q=` → 결과 선택 시 심볼 상태 업데이트.
- **차트 데이터**: `GET /api/stocks/{symbol}/ohlcv?tf=` → OHLCV + 기술 지표 계산.
- **예측 밴드**: `GET /api/forecast/{symbol}?horizon=` → 차트 밴드로 반영.
- **정확도**: `GET /api/forecast/{symbol}/accuracy?holdout_days=` → 정확도 패널 표시.
- **전략/리스크**: 서버 혹은 프런트 계산 모듈에서 점수화/코멘트 생성.
- **포트폴리오**: 로컬 저장소 또는 백엔드 DB를 통한 CRUD.

## UX 세부 설계 포인트
- 로딩/오류 메시지: 예측·정확도 호출 실패 시 토스트 및 패널 내 상태 텍스트(사용자 불확실성 최소화).
- 반응형: 메인 차트 전체 폭 사용, 측면 패널은 아코디언/탭으로 축소 가능.
- 접근성: 색맹 친화 팔레트, 키보드 내비게이션, 숫자 단위 축약(예: 1.2M).
- 국제화: KR/EN 텍스트 리소스 분리, 통화/단위 포맷 옵션.

## 향후 고도화 아이디어
- **워크포워드 백테스트 뷰**: 기간별 MAPE/RMSE 추이 그래프.
- **모델 선택 드롭다운**: ARIMA/SARIMA/Prophet/Boosting/딥러닝 사전설정.
- **리스크 시나리오**: 변동성 상향/하향 스트레스 시 예측 밴드 재계산.
- **알림**: 밴드 상단·하단 이탈 시 Slack/Email/Web Push 알림.
- **데이터 품질**: 휴일/배당/액면분할 정규화, 외생 변수(거시/섹터 ETF) 옵션.

